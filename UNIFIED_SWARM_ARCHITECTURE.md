# Unified Swarm Architecture
## World's Best Self-Learning Swarm Manager

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        UNIFIED BASE SWARM                                â”‚
â”‚                   (Single class, all learning integrated)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
              â”‚   AGENTS  â”‚   â”‚ PATTERN â”‚   â”‚ LEARNING  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PATTERN SELECTION (AUTO Mode)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Task: "Research 3 AI companies and compare them"            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   AUTO PATTERN SELECTOR   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”      â”Œâ”€â”€â–¼â”€â”€â”       â”Œâ”€â”€â–¼â”€â”€â”
    â”‚Memory â”‚      â”‚ TD  â”‚       â”‚ SI  â”‚
    â”‚Search â”‚      â”‚Learnâ”‚       â”‚Meta â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜      â””â”€â”€â”¬â”€â”€â”˜       â””â”€â”€â”¬â”€â”€â”˜
        â”‚             â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   PARALLEL      â”‚  â† Selected!
            â”‚ (3 independent  â”‚
            â”‚   researchers)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EXECUTION PATTERNS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SEQUENTIAL  â”‚  A â†’ B â†’ C
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Research â†’ Analyze â†’ Write

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PARALLEL   â”‚  A | B | C
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Researcher1 | Researcher2 | Researcher3

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONSENSUS  â”‚  Vote: best(A, B, C)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Reviewer1, Reviewer2, Reviewer3 â†’ Best review

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DEBATE    â”‚  Multi-round + Synthesis
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Round 1: Propose
  Round 2: Critique
  Round 3: Refine
  Final: Synthesize â†’ New insight

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ITERATIVE  â”‚  Loop until threshold
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Generate â†’ Evaluate â†’ Improve â†’ Repeat

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚HIERARCHICAL â”‚  Manager â†’ Workers
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Manager: Plan
  Workers: Execute (parallel)
  Manager: Aggregate

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BLACKBOARD  â”‚  Shared workspace
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Agent1: Add finding
  Agent2: Add analysis
  Agent3: Add conclusion
  â†’ Final state

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CUSTOM    â”‚  User-defined STAGES
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  STAGES = [
    Stage1 â†’ Stage2 â†’ Stage3
            â†“
          Stage4 (optional)
  ]


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LEARNING INTEGRATION (8 Layers)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXECUTION FLOW                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. PRE-EXECUTION
   â”œâ”€ Retrieve learned context (Memory Layer 1)
   â”œâ”€ Select pattern (Pattern Learner Layer 6)
   â””â”€ Prepare with past experience (Transfer Layer 7)

2. EXECUTION
   â”œâ”€ Execute with selected pattern
   â”œâ”€ Monitor performance
   â””â”€ Collect metrics

3. POST-EXECUTION
   â”œâ”€ Evaluate result (Gold Standards Layer 4)
   â”œâ”€ Calculate reward
   â””â”€ Trigger improvement if needed (Layer 5)

4. LEARNING UPDATE (All 8 Layers)

   Layer 1: MEMORY (5 levels)
   â”œâ”€ EPISODIC â† Store raw experience
   â”œâ”€ SEMANTIC â† Extract facts
   â”œâ”€ PROCEDURAL â† Learn patterns
   â”œâ”€ META â† Learn about learning
   â””â”€ CAUSAL â† Understand cause-effect

   Layer 2: TD-LAMBDA
   â””â”€ Update Q-values (state, action, reward)

   Layer 3: SWARM INTELLIGENCE
   â””â”€ Update meta-learning models

   Layer 4: GOLD STANDARDS
   â”œâ”€ Auto-curate excellent results
   â””â”€ Update evaluation history

   Layer 5: IMPROVEMENT AGENTS
   â”œâ”€ Expert: Best practices
   â”œâ”€ Reviewer: Quality analysis
   â”œâ”€ Planner: Strategy
   â””â”€ Actor: Improvements

   Layer 6: PATTERN LEARNER
   â””â”€ Record which patterns work best

   Layer 7: TRANSFER LEARNING
   â””â”€ Store task embeddings + outcomes

   Layer 8: ADAPTIVE COMPONENTS
   â”œâ”€ Adjust exploration rate
   â”œâ”€ Adjust learning rate
   â””â”€ Adjust discount factor

5. CONSOLIDATION
   â”œâ”€ Episodic â†’ Semantic (nightly)
   â”œâ”€ Semantic â†’ Procedural (weekly)
   â””â”€ Procedural â†’ Meta (monthly)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MERGE vs SYNTHESIZE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MERGE/COMBINE    â”‚  (Mechanical - No intelligence)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONCAT:    "A" + "B" + "C" = "ABC"
LIST:      [result_A, result_B, result_C]
VOTE:      max(A, A, B) = A
FIRST:     first_success(A, fail, C) = A
BEST:      max(A:0.8, B:0.95, C:0.7) = B

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SYNTHESIZE      â”‚  (Intelligent - Creates new insight)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Input:     ["React is popular", "Vue is simple", "Svelte is fast"]

Synthesize: "For our team, Vue is optimal because:
            - Simpler learning curve (Vue) helps onboarding
            - Performance adequate for current needs
            - Ecosystem sufficient (React insight)
            - Migration path to Svelte later (Svelte insight)

            This hybrid approach addresses all concerns."

â†’ Creates NEW solution that's better than any individual input!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CODE EXAMPLE: Complete Integration
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

from Jotty.core.intelligence.swarms import BaseSwarm
from Jotty.core.intelligence.swarms.base.agent_team import AgentTeam, CoordinationPattern

class MySwarm(BaseSwarm):
    """
    Complete example showing all features.
    """

    # Define agent team
    AGENT_TEAM = AgentTeam.define(
        (ResearcherAgent, "Researcher"),
        (AnalystAgent, "Analyst"),
        (WriterAgent, "Writer"),
    )

    # Let swarm auto-select pattern!
    COORDINATION = CoordinationPattern.AUTO

    # Optional: Custom multi-stage (for CUSTOM pattern)
    STAGES = [
        StageConfig(
            name="research",
            agents=["_researcher"],
            description="Gather information",
        ),
        StageConfig(
            name="analyze",
            agents=["_analyst"],
            needs=["research"],
            description="Analyze findings",
        ),
        StageConfig(
            name="write",
            agents=["_writer"],
            needs=["analyze"],
            description="Create report",
        ),
    ]

# Usage
swarm = MySwarm()

# First execution - Swarm learns
result1 = await swarm.execute(task="Research AI trends")

# Pattern was auto-selected based on task analysis
print(f"Selected: {result1.metadata['pattern']}")  # â†’ "sequential"

# Second execution - Uses learning
result2 = await swarm.execute(task="Research 3 companies")

# Different task â†’ Different pattern
print(f"Selected: {result2.metadata['pattern']}")  # â†’ "parallel"

# Learning improves over time
for i in range(10):
    result = await swarm.execute(task=f"Research task {i}")
    # Swarm gets better at selecting patterns
    # Execution gets faster
    # Quality improves


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KEY INNOVATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Single unified architecture (not 3 separate concepts)
âœ… AUTO pattern selection (learns which coordination works best)
âœ… 8 learning layers (comprehensive, nothing lost)
âœ… SYNTHESIZE vs COMBINE (intelligent vs mechanical)
âœ… CUSTOM with STAGES (declarative multi-stage)
âœ… Backward compatible (old code works)
âœ… Examples & tests (validated)

Result: WORLD'S BEST SELF-LEARNING SWARM MANAGER! ğŸš€
